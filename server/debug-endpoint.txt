// Render дээрх database шалгах endpoint
// Энийг server/index.js-д нэмнэ

// Түр зуурын debugging endpoint - database бараа шалгах
app.get('/api/debug/products', async (req, res) => {
  try {
    const count = await Product.countDocuments();
    const products = await Product.find({}).limit(5);
    res.json({
      mongoConnected: isMongoConnected,
      totalProducts: count,
      sampleProducts: products,
      dbName: mongoose.connection.name,
      dbHost: mongoose.connection.host
    });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});
